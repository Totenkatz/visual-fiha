webpackJsonp([4],{8:function(n,e,t){"use strict";function a(n){return 100/127*(n||0)}function c(n,e,t,c){if(!n[e])return t;if(192===c[0]){if("velocity"===e)return a(c[1]);if("note"===e)return"bpmKnob"}var r=n[e][""+t];return r?"function"==typeof r?r(c[0],c[1],c[2]):"velocity"===e?a(t):r:"velocity"===e?a(t):t}function r(n,e){var t=m||{};if(t[n]&&t[n][e])return t[n][e]||{}}function s(n,e){return function(n){var t=n.data,a=t[0]||0;if(248!==a){var s=t[1]||0,o=t[2]||0,i=r(e.manufacturer,e.name);e.set(c(i,"note",s,t),o)}}}var o=window.VFDeps,i=o.State,u=o.Collection,f=[49,50,51,52,53,54,55,56,92,95],d=[36,37,38,39],g={prefix:"kp3",type:{128:"noteOn",144:"noteOff",176:"change",192:"search",248:"idle"},note:{36:"buttonA",37:"buttonB",38:"buttonC",39:"buttonD",49:"num1",50:"num2",51:"num3",52:"num4",53:"num5",54:"num6",55:"num7",56:"num8",70:"padX",71:"padY",72:"pad72",73:"pad73",74:"pad74",75:"pad75",76:"pad76",92:"pad",93:"effectSlider",94:"effectKnob",95:"hold"},velocity:{0:function(n,e,t){return!(f.indexOf(e)>-1)&&t},64:function(n,e,t){return!(d.indexOf(e)>-1)&&a(t)},100:function(n,e,t){return d.indexOf(e)>-1||a(t)},127:function(n,e,t){return f.indexOf(e)>-1||a(t)}},signalNames:["buttonA:noteOn","buttonA:noteOff","buttonB:noteOn","buttonB:noteOff","buttonC:noteOn","buttonC:noteOff","buttonD:noteOn","buttonD:noteOff","num1:noteOn","num1:noteOff","num2:noteOn","num2:noteOff","num3:noteOn","num3:noteOff","num4:noteOn","num4:noteOff","num5:noteOn","num5:noteOff","num6:noteOn","num6:noteOff","num7:noteOn","num7:noteOff","num8:noteOn","num8:noteOff","pad:noteOn","pad:noteOff","padX:change","padY:change","pad72:change","pad73:change","pad74:change","pad75:change","pad76:change","effectKnob:change","effectSlider:change"]},h={prefix:"nk2",type:{176:"change"},note:{0:"slider1",1:"slider2",2:"slider3",3:"slider4",4:"slider5",5:"slider6",6:"slider7",7:"slider8",16:"knob1",17:"knob2",18:"knob3",19:"knob4",20:"knob5",21:"knob6",22:"knob7",23:"knob8",32:"s1",33:"s2",34:"s3",35:"s4",36:"s5",37:"s6",38:"s7",39:"s8",41:"play",42:"stop",43:"rewind",44:"forward",45:"record",46:"cycle",48:"m1",49:"m2",50:"m3",51:"m4",52:"m5",53:"m6",54:"m7",55:"m8",58:"trackprevious",59:"tracknext",60:"markerset",61:"markerprevious",62:"markernext",64:"r1",65:"r2",66:"r3",67:"r4",68:"r5",69:"r6",70:"r7",71:"r8"},velocity:{0:function(n,e,t){return!(e>23)&&t},127:function(n,e,t){return e>23||a(t)}},signalNames:["slider1:change","slider2:change","slider3:change","slider4:change","slider5:change","slider6:change","slider7:change","slider8:change","knob1:change","knob2:change","knob3:change","knob4:change","knob5:change","knob6:change","knob7:change","knob8:change","s1:change","s2:change","s3:change","s4:change","s5:change","s6:change","s7:change","s8:change","play:change","stop:change","rewind:change","forward:change","record:change","cycle:change","m1:change","m2:change","m3:change","m4:change","m5:change","m6:change","m7:change","m8:change","trackprevious:change","tracknext:change","markerset:change","markerprevious:change","markernext:change","r1:change","r2:change","r3:change","r4:change","r5:change","r6:change","r7:change","r8:change"]},m={"KORG INC.":{"KP3 MIDI 1":g,"nanoKONTROL2 MIDI 1":h}},p=i.extend({props:{connection:"string",state:"string",type:"string",id:"string",manufacturer:"string",name:"string",version:"string"},session:{active:["boolean",!0,!0]}}),l=i.extend({mappable:{source:["inputs"],target:[]},initialize:function(n){function e(){if(!t.MIDIAccess)return void t.inputs.reset([]);var n,e=[];t.MIDIAccess.inputs.forEach(function(a){var c=r(a.manufacturer,a.name);if(c){var o={},i=[];Object.keys(c.note||{}).forEach(function(n){i.push(c.note[n]),o[c.note[n]]=["number",!0,0]});var u=p.extend({mappable:{source:i,target:[]},props:o});n=new u({connection:a.connection,state:a.state,type:a.type,id:c.prefix,manufacturer:a.manufacturer,name:a.name,version:a.version}),"undefined"!=typeof a.onmidimessage&&(a.onmidimessage=s(t,n)),e.push(n)}}),t.inputs.reset(e)}n=n||{};var t=this;if(t.on("change:MIDIAccess",e),"undefined"==typeof n.MIDIAccess){if(!navigator.requestMIDIAccess)return console.warn("No WebMIDI API support"),void(t.MIDIAccess=!1);navigator.requestMIDIAccess().then(function(n){t.MIDIAccess=n,t.MIDIAccess.onstatechange=function(n){t.MIDIAccess=n.currentTarget,e()}},function(){t.MIDIAccess=!1})}},session:{MIDIAccess:{type:"any",default:!1}},collections:{inputs:u.extend({})},toJSON:function(){var n={};return n.inputs=this.inputs.toJSON(),n}});n.exports=l},9:function(n,e,t){"use strict";var a=window.VFDeps,c=a.View,r=c.extend({template:['<li class="gutter">','<span class="name"></span> ',"</li>"].join(""),bindings:{"model.active":{type:"booleanClass"},"model.state":".state","model.name":".name"},events:{click:"_handleClick"},_handleClick:function(){this.model.toggle("active")}}),s=c.extend({template:'<div class="midi-access"><div class="midi-inputs"><div class="gutter">Inputs</div><ul></ul></div></div>',render:function(){var n;return this.el&&(n=this.el.className),this.renderWithTemplate(),n&&(this.el.className=n),this.inputsView=this.renderCollection(this.model.inputs,r,".midi-inputs ul"),this}});n.exports=s}});
//# sourceMappingURL=4-build.js.map